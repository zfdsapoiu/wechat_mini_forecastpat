<scroll-view class="scrollarea" scroll-y type="list">
  <view class="container">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <view class="page-title">
      <text class="title-text">ç®—å‘½è®°å½•</text>
      <text class="subtitle-text">æŸ¥çœ‹æ‚¨çš„å†å²ç®—å‘½ç»“æœ</text>
    </view>
    
    <!-- æ ‡ç­¾é¡µå¯¼èˆª -->
    <view class="tab-nav">
      <view class="tab-item {{currentTab === 0 ? 'active' : ''}}" bindtap="switchTab" data-tab="0">
        <text class="tab-text">å® ç‰©ä¿¡æ¯</text>
      </view>
      <view class="tab-item {{currentTab === 1 ? 'active' : ''}}" bindtap="switchTab" data-tab="1">
        <text class="tab-text">å‘½ç†åˆ†æ</text>
      </view>
      <view class="tab-item {{currentTab === 2 ? 'active' : ''}}" bindtap="switchTab" data-tab="2">
        <text class="tab-text">å…«å­—åˆç›˜</text>
      </view>
    </view>
    
    <!-- å® ç‰©ä¿¡æ¯è®°å½• -->
    <view class="tab-content" wx:if="{{currentTab === 0}}">
      <view class="records-list" wx:if="{{petInfoRecords.length > 0}}">
        <view class="record-item" wx:for="{{petInfoRecords}}" wx:key="id" bindtap="viewPetInfo" data-index="{{index}}">
          <view class="record-header">
            <text class="pet-name">ğŸ¾ {{item.petName}}</text>
            <text class="record-date">{{item.date}}</text>
          </view>
          <view class="pet-details">
            <view class="detail-row">
              <text class="detail-label">å“ç§ï¼š</text>
              <text class="detail-value">{{item.petData.petType || 'æœªçŸ¥'}}</text>
            </view>
            <view class="detail-row">
              <text class="detail-label">ç”Ÿæ—¥ï¼š</text>
              <text class="detail-value">{{item.petData.birthDate || 'æœªçŸ¥'}}</text>
            </view>
            <view class="detail-row">
              <text class="detail-label">å¤–è§‚ï¼š</text>
              <text class="detail-value">{{item.petData.petAppearance || 'æœªçŸ¥'}}</text>
            </view>
            <view class="detail-row">
              <text class="detail-label">æ¯›å‘ï¼š</text>
              <text class="detail-value">{{item.petData.furType || 'æœªçŸ¥'}}</text>
            </view>
          </view>
          <view class="record-footer">
            <text class="view-detail">æŸ¥çœ‹è¯¦æƒ… ></text>
          </view>
        </view>
      </view>
      
      <!-- ç©ºçŠ¶æ€ -->
      <view class="empty-state" wx:if="{{petInfoRecords.length === 0}}">
        <text class="empty-icon">ğŸ¾</text>
        <text class="empty-text">æš‚æ— å® ç‰©ä¿¡æ¯è®°å½•</text>
        <text class="empty-tip">å»ç»™æ‚¨çš„å® ç‰©ç®—å‘½å§ï¼</text>
        <button class="go-calculate-btn" bindtap="goToIndex">å¼€å§‹ç®—å‘½</button>
      </view>
    </view>
    
    <!-- å® ç‰©å‘½ç†åˆ†æç»“æœ -->
    <view class="tab-content" wx:if="{{currentTab === 1}}">
      <view class="records-list" wx:if="{{fortuneRecords.length > 0}}">
        <view class="record-item" wx:for="{{fortuneRecords}}" wx:key="id" bindtap="viewFortune" data-index="{{index}}">
          <view class="record-header">
            <text class="pet-name">ğŸ”® {{item.petName}}</text>
            <text class="record-date">{{item.date}}</text>
          </view>
          <view class="record-preview">
            <text class="preview-text">{{item.preview}}</text>
          </view>
          <view class="record-footer">
            <text class="view-detail">æŸ¥çœ‹è¯¦æƒ… ></text>
          </view>
        </view>
      </view>
      
      <!-- ç©ºçŠ¶æ€ -->
      <view class="empty-state" wx:if="{{fortuneRecords.length === 0}}">
        <text class="empty-icon">ğŸ”®</text>
        <text class="empty-text">æš‚æ— å‘½ç†åˆ†æè®°å½•</text>
        <text class="empty-tip">å»ç»™æ‚¨çš„å® ç‰©ç®—å‘½å§ï¼</text>
        <button class="go-calculate-btn" bindtap="goToIndex">å¼€å§‹ç®—å‘½</button>
      </view>
    </view>
    
    <!-- å® ç‰©ä¸ä¸»äººå…«å­—åˆç›˜ -->
    <view class="tab-content" wx:if="{{currentTab === 2}}">
      <view class="records-list" wx:if="{{compatibilityRecords.length > 0}}">
        <view class="record-item" wx:for="{{compatibilityRecords}}" wx:key="id" bindtap="viewCompatibility" data-index="{{index}}">
          <view class="record-header">
            <text class="pet-name">ğŸ’• {{item.petName}} & ä¸»äºº</text>
            <text class="record-date">{{item.date}}</text>
          </view>
          <view class="record-preview">
            <text class="preview-text">{{item.preview}}</text>
          </view>
          <view class="record-footer">
            <text class="view-detail">æŸ¥çœ‹è¯¦æƒ… ></text>
          </view>
        </view>
      </view>
      
      <!-- ç©ºçŠ¶æ€ -->
      <view class="empty-state" wx:if="{{compatibilityRecords.length === 0}}">
        <text class="empty-icon">ğŸ’•</text>
        <text class="empty-text">æš‚æ— å…«å­—åˆç›˜è®°å½•</text>
        <text class="empty-tip">æ•¬è¯·æœŸå¾…å…«å­—åˆç›˜åŠŸèƒ½ï¼</text>
        <button class="go-calculate-btn" bindtap="goToIndex" disabled>åŠŸèƒ½å¼€å‘ä¸­</button>
      </view>
    </view>
  </view>
</scroll-view>